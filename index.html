<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Wedding Countdown</title>

<style>
:root{
  --ink:#111;
  --muted:#6b6b6b;
  --line:#e9e9e9;
  --card:#fff;
  --radius:18px;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
  background:#fafafa;
  color:var(--ink);
}
.wrap{
  max-width:900px;
  margin:auto;
  padding:32px 16px 60px;
}
.card{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:var(--radius);
  padding:24px;
}
.hero{
  margin-bottom:24px;
}
.hero h1{
  font-size:32px;
  margin:0;
}
.hero p{
  color:var(--muted);
  margin-top:8px;
  line-height:1.5;
}
.pills{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin-top:14px;
}
.pill{
  border:1px solid var(--line);
  padding:8px 12px;
  border-radius:999px;
  font-size:13px;
  background:#fff;
}

.row{
  display:flex;
  gap:12px;
  flex-wrap:wrap;
}
.field{
  flex:1;
  min-width:220px;
}
label{
  font-size:13px;
  color:var(--muted);
}
input{
  width:100%;
  padding:12px;
  border-radius:12px;
  border:1px solid var(--line);
  font-size:14px;
}

.actions{
  display:flex;
  gap:10px;
  margin-top:14px;
  flex-wrap:wrap;
}
button{
  padding:12px 16px;
  border-radius:12px;
  border:1px solid var(--ink);
  background:var(--ink);
  color:#fff;
  font-weight:600;
  cursor:pointer;
}
button.secondary{
  background:#fff;
  color:var(--ink);
  border:1px solid var(--line);
}

.notice{
  margin-top:16px;
  padding:12px;
  border-radius:12px;
  background:#f7f7f7;
  border:1px solid var(--line);
  font-weight:600;
}

.countdown{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin-top:16px;
}
.box{
  width:90px;
  height:90px;
  border:3px solid var(--ink);
  border-radius:12px;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
}
.box .n{
  font-size:22px;
  font-weight:800;
}
.box .t{
  font-size:12px;
  color:var(--muted);
  font-weight:700;
}
</style>
</head>

<body>
<div class="wrap">

  <!-- HERO -->
  <div class="card hero">
    <h1>‚ú® Ton mariage, organis√© en douceur ‚ú®</h1>
    <p>
      Entre ta date, et le planner te montre imm√©diatement le temps restant.
      La checklist et la progression sont g√©r√©es dans Notion.
    </p>
    <div class="pills">
      <div class="pill">üëë Mode PRO Dashboard</div>
      <div class="pill">‚è≥ Countdown live</div>
      <div class="pill">‚úÖ Planner Notion</div>
    </div>
  </div>

  <!-- DATE + COUNTDOWN -->
  <div class="card">
    <h2>Quelle est la date de ton mariage ?</h2>

    <div class="row">
      <div class="field">
        <label>Date du mariage</label>
        <input type="date" id="date">
      </div>
      <div class="field">
        <label>Noms des mari√©s (optionnel)</label>
        <input type="text" id="names" placeholder="Ex : Arnaud & Sophie">
      </div>
    </div>

    <div class="actions">
      <button id="save">üíæ Sauvegarder</button>
      <button class="secondary" id="share">üîó G√©n√©rer un lien</button>
    </div>

    <div class="notice" id="text">
      ‚è≥ Entre une date pour voir le temps restant.
    </div>

    <div class="countdown">
      <div class="box"><div class="n" id="d">‚Äî</div><div class="t">jours</div></div>
      <div class="box"><div class="n" id="h">‚Äî</div><div class="t">heures</div></div>
      <div class="box"><div class="n" id="m">‚Äî</div><div class="t">mins</div></div>
      <div class="box"><div class="n" id="s">‚Äî</div><div class="t">secs</div></div>
    </div>
  </div>

</div>

<script>
const $ = id => document.getElementById(id);
const KEY = "wedding_date_v1";

function load(){
  const url = new URL(location.href);
  const d = url.searchParams.get("date") || localStorage.getItem(KEY);
  const n = url.searchParams.get("name");

  if(d) $("date").value = d;
  if(n) $("names").value = decodeURIComponent(n);
}

function save(){
  const d = $("date").value;
  if(!d) return alert("Choisis une date");
  localStorage.setItem(KEY, d);
  update();
}

function share(){
  const url = new URL(location.href);
  url.searchParams.set("date", $("date").value);
  if($("names").value) url.searchParams.set("name", encodeURIComponent($("names").value));
  navigator.clipboard.writeText(url.toString());
  alert("Lien copi√© ‚úÖ");
}

function update(){
  const d = $("date").value;
  if(!d){
    $("text").textContent = "‚è≥ Entre une date pour voir le temps restant.";
    return;
  }

  const target = new Date(d+"T00:00:00");
  const now = new Date();
  const diff = target - now;

  if(diff <= 0){
    $("text").textContent = "üéâ C‚Äôest le jour J !";
    ["d","h","m","s"].forEach(id => $(id).textContent = "0");
    return;
  }

  const sec = Math.floor(diff/1000);
  const days = Math.floor(sec/86400);
  const hrs = Math.floor(sec%86400/3600);
  const mins = Math.floor(sec%3600/60);
  const secs = sec%60;

  $("d").textContent = days;
  $("h").textContent = String(hrs).padStart(2,"0");
  $("m").textContent = String(mins).padStart(2,"0");
  $("s").textContent = String(secs).padStart(2,"0");

  $("text").textContent = `‚è≥ Il te reste ${days} jours avant le Jour J.`;
}

$("save").onclick = save;
$("share").onclick = share;
$("date").onchange = save;

load();
update();
setInterval(update, 1000);
</script>

</body>
</html>
